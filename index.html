<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NerveSurf25</title>
  <style>
       @import url('https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Poppins:wght@600&display=swap');
       @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@600&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: hidden;
      padding: 20px;
    }
    h1 {
      font-family: 'Fredoka One', cursive;
      font-size: 4em;
      background: linear-gradient(90deg, #ff8a00, #da1b60);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 10px 30px rgba(0,0,0,0.4);
      margin: 20px 0 10px;
      animation: glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow {
      from { filter: brightness(1) drop-shadow(0 0 10px #ff8a00); }
      to { filter: brightness(1.3) drop-shadow(0 0 20px #da1b60); }
    }
    .subtitle {
      color: #fff;
      font-size: 1.4em;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
      margin-bottom: 15px;
      opacity: 0.9;
    }
    canvas {
      border-radius: 24px;
      box-shadow: 
        0 20px 40px rgba(0,0,0,0.6),
        0 0 30px rgba(255, 140, 0, 0.3),
        inset 0 0 30px rgba(255,255,255,0.1);
      max-width: 100%;
      image-rendering: pixelated; /* Keeps retro feel but crisp */
    }
    .container {
      position: relative;
      border-radius: 28px;
      padding: 15px;
      background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(0,0,0,0.3));
      backdrop-filter: blur(10px);
      box-shadow: 0 30px 60px rgba(0,0,0,0.5);
    }
    .instructions {
      margin-top: 20px;
      color: #a0e7ff;
      font-size: 1.3em;
      text-shadow: 0 2px 8px #000;
      background: rgba(0,0,0,0.4);
      padding: 12px 30px;
      border-radius: 50px;
      border: 2px solid rgba(255,255,255,0.2);
    }
    .game-over {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, rgba(0,0,0,0.95), rgba(30,0,50,0.95));
      padding: 50px 80px;
      border-radius: 30px;
      text-align: center;
      font-size: 3em;
      color: white;
      display: none;
      z-index: 100;
      border: 4px solid #ff3366;
      box-shadow: 0 0 60px rgba(255, 51, 102, 0.8);
      animation: pulse 1.5s infinite;
    }
    .game-over.show { display: block; }
    @keyframes pulse {
      0% { box-shadow: 0 0 60px rgba(255, 51, 102, 0.8); }
      50% { box-shadow: 0 0 90px rgba(255, 51, 102, 1); }
      100% { box-shadow: 0 0 60px rgba(255, 51, 102, 0.8); }
    }
    .game-over small {
      display: block;
      font-size: 0.4em;
      margin-top: 20px;
      color: #ff99bb;
      font-family: 'Poppins', sans-serif;
    }
    .score-display {
      position: absolute;
      top: 20px;
      left: 20px;
      color: white;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0 3px 10px #000;
      z-index: 10;
      background: rgba(0,0,0,0.4);
      padding: 10px 20px;
      border-radius: 15px;
      border: 2px solid rgba(255,255,255,0.3);
    }
    .coin-display {
      position: absolute;
      top: 80px;
      left: 20px;
      color: #FFD700;
      font-size: 28px;
      font-weight: bold;
      text-shadow: 0 3px 10px #000;
      z-index: 10;
      background: rgba(0,0,0,0.4);
      padding: 10px 20px;
      border-radius: 15px;
      border: 2px solid #FFD700;
    }
    .splash-screen {
      text-align: center;
      margin-top: 30px;
      animation: fadeIn 1s ease-in-out;
    }

    .splash-screen h1 {
      font-size: 48px;
      margin-bottom: 50px;
      letter-spacing: 1px;
    }

    .splash-screen h2 {
      font-size: 24px;
      opacity: 0.85;
      font-weight: 400;

    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    .screen h1 {
    font-family: 'Fredoka One', cursive;
    font-size: 3em;
    margin-bottom: 40px;
    text-shadow: 0 5px 15px rgba(0,0,0,0.5);
  }
 @keyframes wave {
  0% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(-10px); }
  100% { transform: translateX(-50%) translateY(0); }
}

#wavingPlayer.wave {
  animation: wave 1s infinite ease-in-out;
}
@keyframes floatMove {
  0% { transform: translate(-50%, 0) translateX(0); }
  50% { transform: translate(-50%, -10px) translateX(30px); }
  100% { transform: translate(-50%, 0) translateX(0); }
}

#wavingPlayer.float {
  animation: floatMove 1.5s infinite ease-in-out;
}

  </style>
</head>
<body>
  <div id="splash" class="splash-screen">
  <h1>Welcome to NerveSurf25</h1>
  <h2>Nerve, Surf, & Enjoy!</h2>
</div>

<div id="selection" class="screen" style="display:none; text-align:center;">
  <h1>Please select Your</h1>
  
  <div style="margin:20px;">
    <label for="ageInput" style="font-size:1.5em; color:white;">Age:</label>
    <input id="ageInput" type="number" min="1" max="120" placeholder="Enter your age" style="font-size:1.2em; padding:10px; border-radius:10px; border:none; margin-left:20px; width:250px;">
  </div>

  <div style="margin:20px;">
    <label for="genderInput" style="font-size:1.5em; color:white;">Gender:</label>
    <select id="genderInput" style="font-size:1.2em; padding:10px; border-radius:10px; border:none; margin-left:10px;">
      <option value="" disabled selected>Select your gender</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
    </select>
  </div>
  <button id="startGame" style="font-size:1.5em; padding:15px 40px; margin-top:30px; border-radius:15px; border:none; cursor:pointer; background:#267691; color:white;">Start Game</button>
</div>

<div id="screen3" class="screen" style="display:none; position:relative; width:100%; height:100vh; padding:50px; box-sizing:border-box;">
  <!-- LEFT SIDE -->
  <div class="left-side" style="position:absolute; left:50px; top:50px; display:flex; flex-direction:column; gap:40px;">
    <!-- Sound Icon -->
    <div id="soundBtn" style="font-size:2em; cursor:pointer;">ðŸ”Š</div>
    <!-- Target Icon -->
    <div id="targetBtn" style="font-size:2em; cursor:pointer;">ðŸ“‹</div>
  </div>
  <!-- RIGHT SIDE -->
  <div class="right-side" style="position:absolute; right:50px; top:50px; display:flex; flex-direction:column; gap:40px; align-items:flex-end;">
    <!-- Coin Display -->
    <div id="coinDisplay" style="font-size:1.8em; background:rgba(255,255,255,0.2); padding:10px 30px; border-radius:50px; cursor:pointer; transition:0.3s;">â˜… 0</div>
    <!-- Reset Button -->
    <button id="resetCoin" style="font-size:1.5em; padding:10px 25px; border-radius:15px; border:none; cursor:pointer; background:#ff3366; color:white;">Reset Coin</button>
    <!-- Tap Text -->
    <div id="tapText" style="rotate(-45deg); font-size:2em; color:white; text-shadow:0 2px 10px rgba(0,0,0,0.5); cursor:pointer;">
  Tap to Nerve & Surf
</div>
  </div>
  <!-- Waving Player PNG (Screen 3 only) -->
<img 
  id="wavingPlayer"
  src="Black_and_White_Modern_Personal_Brand_Logo-removebg-preview.png"
  style="
    position:absolute;
    bottom:50px;
    left:50%;
    transform:translateX(-50%);
    width:50%;
    pointer-events:none;
  "
/>
</div>

  <div id="gameUI" style="display:none;">
  <h1>NerveSurf25</h1>
  <canvas id="gameCanvas" width="800" height="400"></canvas>
  <div class="instructions">â€¢ Run, avoid & overcome!</div>
</div>

  <div id="gameOver" class="game-over">
    <div>GAME OVER</div>
    <div style="font-size: 0.5em; margin-top: 20px;">Click or press R to restart</div>
  </div>

  <script>
const splash = document.getElementById("splash");
const selection = document.getElementById("selection");
const gameUI = document.getElementById("gameUI");
const age = document.getElementById('ageInput');
const gender = document.getElementById('genderInput');
const startBtn = document.getElementById("startGame");

// 1. Splash â†’ Selection after 3s
setTimeout(() => {
  splash.style.display = "none";
  selection.style.display = "block";
}, 2000);

// 2. Selection â†’ Game on button click
startBtn.addEventListener("click", () => {
  const ageValue = age.value;
  const genderValue = gender.value;

  if (!ageValue || !genderValue) {
    alert("Please enter your age and select your gender!");
    return;
  }

  console.log("User Age:", ageValue);
  console.log("User Gender:", genderValue);

  // Hide selection, show screen3
  selection.style.display = "none";
  screen3.style.display = "block";

  // Optional: Wait a few seconds or let user click something to start game
  // For example, clicking "Tap to Nerve & Surf" starts the game
  const tapText = document.getElementById("tapText");

  tapText.addEventListener('click', () => {
    screen3.style.display = "none";
    gameUI.style.display = "block";
  requestAnimationFrame(gameLoop);

  });
});
// Elements
const screen3 = document.getElementById('screen3');
const soundBtn = document.getElementById('soundBtn');
const targetBtn = document.getElementById('targetBtn');
const coinDisplay = document.getElementById('coinDisplay');
const resetCoin = document.getElementById('resetCoin');

let bgMusic = new Audio('surf-a-wave-327974.mp3');
bgMusic.loop = true;
let musicPlaying = false;

// Sound toggle
soundBtn.addEventListener('click', () => {
  if (musicPlaying) {
    bgMusic.pause();
    soundBtn.textContent = 'ðŸ”‡';
  } else {
    bgMusic.play();
    soundBtn.textContent = 'ðŸ”Š';
  }
  musicPlaying = !musicPlaying;
});

// Random target (example)
targetBtn.addEventListener('click', () => {
  const targets = ['Collect 50 coins', 'Jump 20 times', 'Avoid 10 obstacles'];
  alert("Today's target: " + targets[Math.floor(Math.random() * targets.length)]);
});

//waving player animation
const wavingPlayer = document.getElementById('wavingPlayer');

wavingPlayer.classList.add('float');
document.addEventListener('mousemove', (e) => {
  wavingPlayer.style.left = e.clientX + "px";
});

// Coin display hover effect
coinDisplay.addEventListener('mouseenter', () => coinDisplay.style.transform = 'scale(1.1)');
coinDisplay.addEventListener('mouseleave', () => coinDisplay.style.transform = 'scale(1)');

// Reset coin button
resetCoin.addEventListener('click', () => {
  localStorage.setItem('coins', 0);
  coinDisplay.textContent = 'â˜… 0';
});

    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");
    canvas.width = 800;
    canvas.height = 400;

    const gameOverScreen = document.getElementById("gameOver");

    // --- GAME IMAGE ASSETS ---
const images = {
  wave1: new Image(),
  wave2: new Image(),
  float1: new Image(),
  float2: new Image(),
  rightGlance: new Image(),
  leftGlance: new Image(),

  run1: new Image(),
  run2: new Image(),
  jumpHandWave: new Image(),
  slip1: new Image(),
  slip2: new Image(),

  coin: new Image(),
  shadow: new Image(),

  flySky1: new Image(),
  flySky2: new Image(),

  runTilt1: new Image(),
  runTilt2: new Image(),

  slip1Tilt1: new Image(),
  slip1Tilt2: new Image(),
  slip2Tilt1: new Image(),
  slip2Tilt2: new Image(),

  flySkyTilt1: new Image(),
  flySkyTilt2: new Image(),

  road: new Image(),
  mysteryBox: new Image()
};

// --- SET IMAGE SOURCES ---
images.wave1.src = "Wave1.png";
images.wave2.src = "Wave2.png";
images.float1.src = "Float1.png";
images.float2.src = "Float2.png";
images.rightGlance.src = "rightGlance.png";
images.leftGlance.src = "leftGlance.png";

images.run1.src = "run1.png";
images.run2.src = "run2.png";
images.jumpHandWave.src = "jump hand wave.png";
images.slip1.src = "slip1.png";
images.slip2.src = "slip2.png";

images.coin.src = "coin.png";
images.shadow.src = "shadow.png";

images.flySky1.src = "fly-sky1.png";
images.flySky2.src = "fly-sky2.png";

images.runTilt1.src = "runTilt1.png";
images.runTilt2.src = "runTilt2.png";

images.slip1Tilt1.src = "slip1Tilt1.png";
images.slip1Tilt2.src = "slip1Tilt2.png";
images.slip2Tilt1.src = "slip2Tilt1.png";
images.slip2Tilt2.src = "slip2Tilt2.png";

images.flySkyTilt1.src = "fly-skyTilt1.png";
images.flySkyTilt2.src = "fly-skyTilt2.png";

images.road.src = "road.png";
images.mysteryBox.src = "mystery box.png";


    // Game variables
    let speed = 5;
    let score = 0;
    let coins = 0;
    let gameRunning = true;

    // Player
   const player = { x: 150, 
   y: canvas.height - 150, 
   width: 50, height: 80, 
   velY: 0,
   jumping: false };


    const gravity = 0.9;
    const jumpPower = -16;

    const obstacles = [];
    const coinList = [];
    let spawnTimer = 0;

    // Input handling
    const keys = {};
    window.addEventListener("keydown", e => {
      keys[e.code] = true;
      if ((e.code === "Space" || e.code === "ArrowUp") && !player.jumping && gameRunning) {
        player.velY = jumpPower;
        player.jumping = true;
        e.preventDefault();
      }
      if (e.code === "KeyR" && !gameRunning) restart();
    });
    window.addEventListener("keyup", e => keys[e.code] = false);

    canvas.addEventListener("click", () => {
      if (!player.jumping && gameRunning) {
        player.velY = jumpPower;
        player.jumping = true;
      }
      if (!gameRunning) restart();
    });

    // Classes
    class Obstacle {
      constructor(x, type) {
        this.x = x;
        this.type = type; // 0=hay, 1=cart, 2=chicken
        this.width = type === 2 ? 50 : 80;
        this.height = type === 2 ? 40 : 70;
      }
      update() { this.x -= speed; }
      draw() {
  const obstacleImages = {
    0: "âŒ",
    1: "ðŸš˜",
    2: "âœˆ"
  };

  ctx.font = "50px Arial";
  ctx.fillText(
    obstacleImages[this.type],
    this.x,
    canvas.height - 100 - this.height
  );
}

      collide() {
        return player.x + player.width > this.x &&
               player.x < this.x + this.width &&
               player.y + player.height > canvas.height - 100 - this.height &&
               player.y < canvas.height - 100;
      }
    }

    class Coin {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.collected = false;
      }
      update() { this.x -= speed; }
      draw() {
  if (this.collected) return;

  ctx.drawImage(
    images.coin,
    this.x - 18,
    this.y - 18,
    36,
    36
  );
}

      collect() {
        if (this.collected) return false;
        const dx = player.x + player.width/2 - this.x;
        const dy = player.y + player.height/2 - this.y;
        if (Math.hypot(dx, dy) < 50) {
          this.collected = true;
          coins++;
          score += 10;
          return true;
        }
        return false;
      }
    }

    function spawnObjects() {
      spawnTimer++;
      if (spawnTimer > 80 + Math.random() * 80) {
        spawnTimer = 0;
        const type = Math.floor(Math.random() * 3);
        obstacles.push(new Obstacle(canvas.width + 50, type));
        if (Math.random() > 0.5) {
          const coinY = canvas.height - 200 + Math.random() * 100 - 50;
          coinList.push(new Coin(canvas.width + 100, coinY));
        }
      }
    }

    function restart() {
  // Reset player
  player.y = canvas.height - 150;
  player.velY = 0;
  player.jumping = false;

  // Clear obstacles & coins
  obstacles.length = 0;
  coinList.length = 0;

  // Reset game variables
  speed = 5;
  score = 0;
  coins = 0;

  // Hide game over screen
  gameOverScreen.classList.remove("show");

  // Restart game loop
  if (!gameRunning) {
    gameRunning = true;
    requestAnimationFrame(gameLoop);
  } else {
    // If gameRunning is already true, force loop anyway
    gameLoop();
  }
}

    function gameLoop() {
  if (!gameRunning) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Sky
  ctx.fillStyle = "#87CEEB";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  // Ground
  ctx.fillStyle = "#228B22";
  ctx.fillRect(0, canvas.height - 100, canvas.width, 100);

  // Road PNG
  ctx.drawImage(images.road, 0, canvas.height - 100, canvas.width, 100);

  // Player physics
  player.velY += gravity;
  player.y += player.velY;

  if (player.y >= canvas.height - 150) {
    player.y = canvas.height - 150;
    player.velY = 0;
    player.jumping = false;
  }

  // Player animation
  let frame = Math.floor(Date.now() / 120) % 2;
  let playerFrame = frame === 0 ? images.run1 : images.run2;

  ctx.drawImage(playerFrame, player.x, player.y, player.width, player.height);

  // Shadow
  ctx.drawImage(images.shadow, player.x + 10, canvas.height - 35, 60, 20);

  // Coins
  for (let i = coinList.length - 1; i >= 0; i--) {
    coinList[i].update();
    coinList[i].draw();
    coinList[i].collect();
    if (coinList[i].x < -100) coinList.splice(i, 1);
  }

  // Obstacles
  for (let i = obstacles.length - 1; i >= 0; i--) {
    obstacles[i].update();
    obstacles[i].draw();

    if (obstacles[i].collide()) {
      gameRunning = false;
      gameOverScreen.classList.add("show");
    }

    if (obstacles[i].x < -200) {
      obstacles.splice(i, 1);
      score += 50;
    }
  }

  spawnObjects();

  // HUD
  ctx.fillStyle = "white";
  ctx.font = "30px Arial";
  ctx.fillText(`Score: ${Math.floor(score / 10)}`, 20, 50);

  ctx.fillStyle = "#FFD700";
  ctx.fillText(`â˜… ${coins}`, 20, 90);

  requestAnimationFrame(gameLoop);
}


  </script>
</body>
</html>
